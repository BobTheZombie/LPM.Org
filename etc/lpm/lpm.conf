# LPM configuration file
#
# Lines use KEY=VALUE syntax. Remove the leading '#' to override a setting.
# Defaults shown here match the built-in behaviour described in the README.

# Init system integration policy:
# auto   = enable/start services automatically
# manual = detect & log services but donâ€™t enable
# none   = ignore services completely
INIT_POLICY=auto
# INIT_SYSTEMD_DENYLIST lists packages that should never be automatically
# enabled/disabled via systemctl (comma-separated). Core init packages are
# skipped by default to avoid disrupting the host init system.
# INIT_SYSTEMD_DENYLIST=systemd,systemd-libs

# ARCH overrides the detected architecture reported by `uname -m`.
# ARCH=$(uname -m)

# CPU_TYPE forces generic CPU tuning instead of auto-detection.
# Accepted values: x86_64v1, x86_64v2, x86_64v3, x86_64v4
# CPU_TYPE=
# ENABLE_CPU_OPTIMIZATIONS toggles automatic -march/-mtune detection.
# Set to false to rely on .lpmbuild-provided CFLAGS.
# ENABLE_CPU_OPTIMIZATIONS=true

# Sandbox mode for builds: none | fakeroot | bwrap
SANDBOX_MODE=none

# OPT_LEVEL controls the default optimisation flags used during builds.
# Valid values: -Os, -O2, -O3, -Ofast
# OPT_LEVEL=-O2

# FETCH_MAX_WORKERS overrides the concurrent download worker pool size.
# Defaults to 2x CPU cores (minimum 4, maximum 32).
# FETCH_MAX_WORKERS=

# IO_BUFFER_SIZE tunes the buffer size (in bytes) used when unpacking
# packages without streaming. Values below 65536 are ignored. Defaults
# to 1048576 (1 MiB).
# IO_BUFFER_SIZE=1048576

# Where to store state
STATE_DIR=/var/lib/lpm

# MAX_SNAPSHOTS limits how many filesystem snapshots are retained.
# MAX_SNAPSHOTS=10

# MAX_LEARNT_CLAUSES bounds the SAT solvers learnt clause count.
MAX_LEARNT_CLAUSES=500

# VSIDS decay factors tweak the SAT solver's heuristics. Values must be
# between 0 and 1. Lower values make the solver react faster to new
# information at the expense of stability.
# VSIDS_VAR_DECAY=0.95
# VSIDS_CLAUSE_DECAY=0.999

# INSTALL_PROMPT_DEFAULT selects the default answer for install prompts.
# Valid values: y, n
# INSTALL_PROMPT_DEFAULT=n

# ALLOW_LPMBUILD_FALLBACK restores the network fallback for .lpmbuild scripts.
# Set to true to re-enable downloads when repository fetches fail.
# ALLOW_LPMBUILD_FALLBACK=false

# USE_DELTAS controls whether delta packages are used when available.
# Valid values: auto, always, never
# USE_DELTAS=auto

# Minimum zstd version required to generate/apply delta packages.
# ZSTD_MIN_VERSION=1.5.5

# GitLab sources for lpmbuild scripts (per-package)
# Use {name} placeholder for the package name.
LPMBUILD_REPO=https://gitlab.com/lpm-org/packages/-/raw/main/

# GitLab binaries (.lpm) and signatures (.sig)
BINARY_REPO=https://gitlab.com/lpm-org/lpm-org-official-binaries/{name}/{name}-{version}-{release}.{arch}.lpm

# Optional: where to COPY built artifacts (local dir path). Leave empty to disable.
COPY_OUT_DIR=

# Optional: always sign builds if key exists (default yes)
ALWAYS_SIGN=yes

# Override the number of concurrent workers used by `lpm buildpkg`. Leave
# empty to use an automatic value derived from CPU cores.
# BUILDPKG_WORKERS=


